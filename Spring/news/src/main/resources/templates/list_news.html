
<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
    <head>
        <title>ADD NEW NEWS</title>
        <div th:replace= "~{/fragments/head :: head}"></div>
    </head>

    <nav th:replace= "~{/fragments/navbar :: nav}"></nav>
    <header class="py-5 bg-light border-bottom mb-4">
        <div class="container">
            <div class="text-center my-5">
                <h1 class="fw-bolder">NEWS LIST</h1>
                <p class="lead mb-0">By DIEGO ROMERO</p>
            </div>
        </div>
    </header>
    <body>
        <div class="container">
            
            <div class="row">
                <H4>NOTICIAS</H4>
            </div>
            <div class="row justify-content-start">
                
                <div class="col-sm-4" th:each="news : ${news}">
                    <div class="card border-primary mb-3">
                        <div class="card-header">
                            <H6>id</H6>
                            <P th:text ="${news.id}">id</P>
                        </div>
                        <div class="card-body">
                        <h5 class="card-title card-index-title" th:text ="${news.title}">Card title</h5>
                        <p class="card-text card-index-text" th:text = "${news.body}">body</p>
                        <a th:href="@{/news/modify/__${news.id}__}" class="card-link" sec:authorize="hasRole('ADMIN')">Modify</a>
                        <a th:href="@{/news/delete/__${news.id}__}" class="card-link" sec:authorize="hasRole('ADMIN')">Delete</a>
                        </div>
                    </div>
                </div>
                
            
                
            </div>
            
        </div>
        <div class="container">
            <div class="col-sm-6">
                <div th:if="${error != null}" class="card text-white bg-danger mb-3 errorMessage">
                    <div class="card-body">
                        <h5 class="card-title">Error </h5>
                        <p class="card-text" th:text="${error}"></p>
                    </div>
                </div>
                <div th:if="${success != null}" class="card text-white bg-danger mb-3 successMessage">
                    <div class="card-body">
                        <h5 class="card-title">Success </h5>
                        <p class="card-text" th:text="${success}"></p>
                </div>
            </div>
        </div>
        

    </body>
    <div th:replace= "~{/fragments/footer :: footer}"></div>
    <!-- Bootstrap core JS-->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Core theme JS-->
    <script src="/js/scripts.js"></script>
</html>